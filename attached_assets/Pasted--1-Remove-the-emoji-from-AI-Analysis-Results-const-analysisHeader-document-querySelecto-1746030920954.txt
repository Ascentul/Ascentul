// üßπ 1. Remove the üìä emoji from "AI Analysis Results"
const analysisHeader = document.querySelector('#analysisHeader'); // adjust selector if needed
if (analysisHeader) {
  analysisHeader.textContent = "AI Analysis Results";
}

// üé® 2. Color code score cards + add performance labels
document.querySelectorAll('.score-box').forEach((box) => {
  const score = parseInt(box.textContent);
  box.style.borderRadius = '8px';
  box.style.padding = '12px';
  box.style.textAlign = 'center';

  // Apply background color based on score
  if (score < 60) {
    box.style.backgroundColor = '#ffe5e5'; // light red
  } else if (score < 80) {
    box.style.backgroundColor = '#fff9cc'; // light yellow
  } else {
    box.style.backgroundColor = '#e4fce4'; // light green
  }

  // Add label under the score
  const label = document.createElement('div');
  label.style.fontSize = '12px';
  label.style.color = '#444';
  label.style.marginTop = '4px';
  label.style.fontWeight = '500';
  if (score < 60) label.innerText = 'Needs Improvement';
  else if (score < 80) label.innerText = 'Good Start';
  else label.innerText = 'Strong';

  box.appendChild(label);
});

// üìù 3. Collapse Optimized Cover Letter by default
const optimizedSection = document.getElementById('optimizedCoverLetterSection'); // adjust selector as needed
if (optimizedSection) {
  optimizedSection.style.display = 'none';

  // Create toggle button
  const toggleBtn = document.createElement('button');
  toggleBtn.innerText = "üìù View Optimized Cover Letter";
  toggleBtn.style.marginTop = "24px";
  toggleBtn.style.padding = "8px 16px";
  toggleBtn.style.border = "1px solid #ccc";
  toggleBtn.style.borderRadius = "6px";
  toggleBtn.style.backgroundColor = "#ffffff";
  toggleBtn.style.cursor = "pointer";
  toggleBtn.style.fontSize = "14px";

  toggleBtn.onclick = () => {
    const isHidden = optimizedSection.style.display === 'none';
    optimizedSection.style.display = isHidden ? 'block' : 'none';
    toggleBtn.innerText = isHidden
      ? "‚úñ Hide Optimized Cover Letter"
      : "üìù View Optimized Cover Letter";
  };

  // Insert button above the optimized section
  optimizedSection.parentNode.insertBefore(toggleBtn, optimizedSection);
}
